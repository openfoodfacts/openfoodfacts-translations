KÄ Open Food Facts izmanto logotipus, lai iegÅ«tu informÄciju par pÄrtikas produktiem

<!-- wp:paragraph -->
<p></p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3><strong>ğŸ§‚Nedaudz konteksta:</strong> â€œlogotipiâ€?</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p></p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Open Food Facts ir piepildÄ«ts ar aptuveni <strong>3 miljoniem produktu</strong>. Katram produktam ir iepakojums, kas veidots tÄ, lai piesaistÄ«tu pÄ“c iespÄ“jas vairÄk cilvÄ“ku. Å ajÄ sakarÄ raÅ¾otÄji izceÄ¼ savu produktu Ä«paÅ¡Ä«bas ar<strong> spilgtiem un nepÄrprotamiem simboliem</strong>. Å o simbolu ir daudz, un tie var sniegt informÄciju par produkta zÄ«molu, tÄ kvalitÄti, sastÄvu, pagatavoÅ¡anas veidu, kurÄ iepakojumÄ to izmest utt.â€¦&nbsp;</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Lai vienÄdotu visus simbolus un palÄ«dzÄ“tu patÄ“rÄ“tÄjiem atrast viÅ†iem atbilstoÅ¡us produktus, <strong>daÅ¾Ädas iestÄdes ir izveidojuÅ¡as stingrus noteikumus, lai raÅ¾otÄji varÄ“tu marÄ·Ä“t savus produktus ar Ä«paÅ¡iem simboliem, ko mÄ“s saucam par â€œlogotipiemâ€</strong>. TÄdÄ“jÄdi pastÄv milzÄ«ga iespÄ“ja ğŸ”¥ iegÅ«t datus par produktiem, atpazÄ«stot Å¡os logotipus!</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p><strong>KÄ Open Food Facts vajadzÄ“tu tos atklÄt? Paldies tehnoloÄ£iju un lÄ«dzstrÄdnieku apvienojumam, kÄ vienmÄ“r!</strong></p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p></p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Rafaels Burnoness, bijuÅ¡ais Open Food Facts lÄ«dzstrÄdnieks, kurÅ¡ tagad ir pastÄvÄ«gajÄ komandÄ un manas prakses vadÄ«tÄjs, Robotoff* <strong>bija izstrÄdÄjis sistÄ“mu logotipu iegÅ«Å¡anai no attÄ“liem, to pÄrveidoÅ¡anai vektoros un katra vektora tuvÄko kaimiÅ†u atraÅ¡anai.</strong> Logotipu kaimiÅ†u atraÅ¡anas mÄ“rÄ·is bija <strong>Ä¼aut lÄ«dzstrÄdniekiem vienlaikus "anotÄ“t" (manuÄli kategorizÄ“t) milzÄ«gu daudzumu logotipu, izmantojot platformu ar nosaukumu <a rel="noreferrer noopener" href="https://hunger.openfoodfacts.org/" target="_blank">Bada spÄ“les</a> </strong>ğŸ˜‰.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>TomÄ“r toreiz izmantotie modeÄ¼i un algoritmi nevarÄ“ja sniegt pietiekami efektÄ«vus rezultÄtus.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>2022. gada septembrÄ« es, inÅ¾enierzinÄtÅ†u students, pievienojos komandai 6 mÄ“neÅ¡u praksei, kas bija veltÄ«ta logotipiem, un es strÄdÄju pie visa Å¡Ä« procesa pÄrveidoÅ¡anas! ğŸ¥³&nbsp;</p>
<!-- /wp:paragraph -->

<!-- wp:table -->
<figure class="wp-block-table"><table><tbody><tr><td><strong>* Kas ir Robotoff?</strong><br><a rel="noreferrer noopener" href="https://github.com/openfoodfacts/robotoff" target="_blank">Robotoff</a> ir pakalpojums, ko izstrÄdÄjuÅ¡i lÄ«dzstrÄdnieki, lai palÄ«dzÄ“tu apstrÄdÄt Open Food Facts datus. Pamatojoties uz datubÄzÄ“ jau pieejamajiem datiem, mÄ“rÄ·is ir iegÅ«t pÄ“c iespÄ“jas vairÄk informÄcijas par katru produktu un pievienot tos datubÄzei. PaÅ¡laik Robotoff veiktie atjauninÄjumi tiek veikti, izmantojot attÄ“lu analÄ«zi, optisko rakstzÄ«mju atpazÄ«Å¡anu vai vispÄrÄ«gÄkus datorredzes modeÄ¼us. DaÅ¾i atjauninÄjumi datubÄzÄ“ tiek lietoti automÄtiski, bet citiem nepiecieÅ¡ama manuÄla validÄcija, izmantojot jautÄjumus vai â€œBada spÄ“lesâ€.<br><br><em><strong>Lai uzzinÄtu vairÄk par Robotoff, ieskatieties <a rel="noreferrer noopener" href="https://github.com/openfoodfacts/robotoff#readme" target="_blank">Å¡eit</a>!</strong></em>ğŸ‘€</td></tr></tbody></table></figure>
<!-- /wp:table -->

<!-- wp:heading {"level":3} -->
<h3><strong>ğŸ«— Nedaudz tehnoloÄ£iju: </strong>KÄ tieÅ¡i darbojas logotipu apstrÄde?</h3>
<!-- /wp:heading -->

<!-- wp:heading {"level":4} -->
<h4><em>1ï¸âƒ£ </em>Izvilkt logotipus no produktu attÄ“liem:</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p></p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Open Food Facts lÄ«dzstrÄdnieki apmÄcÄ«ja maÅ¡Ä«nmÄcÄ«Å¡anÄs modeli logotipu atpazÄ«Å¡anai attÄ“los. MÄ“s ievietojam attÄ“lu kÄ modeÄ¼a ievadi un saÅ†emam vairÄkus ierobeÅ¾ojoÅ¡us lodziÅ†us ar atbilstoÅ¡iem rÄdÄ«tÄjiem un klasÄ“m. Klases, kurÄs modelis tika apmÄcÄ«ts, bija â€œzÄ«molsâ€ un â€œetiÄ·eteâ€.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Kodu, kurÄ tiek izsaukts modelis, varat atrast Å¡eit: <a href="https://github.com/openfoodfacts/robotoff/blob/b209707cc062310b51f9886c87ee14be91527644/robotoff/workers/tasks/import_image.py#L325" target="_blank" rel="noreferrer noopener">Robotoff.import_image.py</a>.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Varat to izmÄ“Ä£inÄt, izmantojot Å¡o API:&nbsp;<a href="https://robotoff.openfoodfacts.net/api/v1/images/predict?image_url=[image_url]&amp;models=universal-logo-detector" target="_blank" rel="noreferrer noopener">https://robotoff.openfoodfacts.net/api/v1/images/predict?image_url=[image_url]&amp;models=universal-logo-detector</a></p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Ar ierobeÅ¾ojoÅ¡ajiem lodziÅ†iem var redzÄ“t, kÄdi ir atbilstoÅ¡ie logotipi ar API: <a href="https://robotoff.openfoodfacts.net/api/v1/images/crop?image_url=[image_url]&amp;y_min=[y_min]&amp;x_min=[x_min]&amp;y_max=[y_max]&amp;x_max=[x_max]" target="_blank" rel="noreferrer noopener">https://robotoff.openfoodfacts.net/api/v1/images/crop?image_url=[image_url]&amp;y_min=[y_min]&amp;x_min=[x_min]&amp;y_max=[y_max]&amp;x_max=[x_max]</a> kur koordinÄtas ir tÄdÄ paÅ¡Ä secÄ«bÄ kÄ tÄs, ko atgrieÅ¾ modelis ierobeÅ¾ojoÅ¡ajos lodziÅ†os.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Å eit ir piemÄ“rs tam, kas notiek, izmantojot Å¡Ä«s API, ar Å¡Ädu attÄ“lu:</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p><a href="https://images.openfoodfacts.org/images/products/322/982/012/9488/front_fr.194.400.jpg" target="_blank" rel="noreferrer noopener">https://images.openfoodfacts.org/images/products/322/982/012/9488/front_fr.194.400.jpg</a></p>
<!-- /wp:paragraph -->

<!-- wp:image {"id":3425,"width":806,"height":252,"sizeSlug":"large","linkDestination":"none"} -->
<figure class="wp-block-image size-large is-resized"><img src="https://blog.openfoodfacts.org/wp-content/uploads/2023/02/Screenshot-2023-02-14-at-14.34.51-1024x321.png" alt="" class="wp-image-3425" width="806" height="252"/></figure>
<!-- /wp:image -->

<!-- wp:heading {"level":4} -->
<h4><em>2ï¸âƒ£ </em>Logotipu attÄ“lu konvertÄ“Å¡ana uz vektoriem:</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p></p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p><strong>Tagad, kad varam piekÄ¼Å«t logotipiem, mums tie ir jÄvektorizÄ“</strong>. Å im nolÅ«kam mÄ“s izmantojam iepriekÅ¡ apmÄcÄ«tu OpenAI modeli ar nosaukumu <a href="https://huggingface.co/docs/transformers/model_doc/clip" target="_blank" rel="noreferrer noopener">CLIP</a>. Lai gan modelis sÄkotnÄ“ji tika apmÄcÄ«ts saskaÅ†ot attÄ“lus ar tekstu, mÄ“s izmantojam tikai modeÄ¼a â€œdatorredzesâ€ daÄ¼u, lai iegÅ«tu iegultos elementus (=logotipus, kas iegulti vektoru telpÄ), ko CLIP aprÄ“Ä·ina katram logotipam.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>TÄdÄ“jÄdi mums ir logotipa attÄ“ls kÄ ievades dati un vektors ar dimensiju 512 kÄ izvades dati. Jo mazÄks ir attÄlums starp diviem vektoriem, jo lÄ«dzÄ«gÄki ir divi atbilstoÅ¡ie logotipi.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Funkcija <a href="https://github.com/openfoodfacts/robotoff/blob/b209707cc062310b51f9886c87ee14be91527644/robotoff/workers/tasks/import_image.py#L398" target="_blank" rel="noreferrer noopener">save_logo_embeddings</a> Robotoff vidÄ“ ir atbildÄ«ga par modeÄ¼a piemÄ“roÅ¡anu logotipiem un iegulto elementu saglabÄÅ¡anu Robotoff postgresql datubÄzÄ“.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>SkaidrÄku kodu <a href="https://github.com/openfoodfacts/openfoodfacts-ai/blob/develop/logo-ann/generation/02_generate_embeddings.py#L108" target="_blank" rel="noreferrer noopener">varat atrast Å¡eit</a> , lai saprastu, kÄ mÄ“s izmantojam CLIP logotipu iegulÅ¡anas Ä£enerÄ“Å¡anai.</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":4} -->
<h4><em>3ï¸âƒ£ </em>Atrast tuvÄkos kaimiÅ†us:</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p></p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Lai atrastu logotipa tuvÄkos kaimiÅ†us, mÄ“s izmantojam â€œindeksuâ€, lai saglabÄtu iegultos elementus. Kad Å¡is indekss ir izveidots, mÄ“s varÄ“tu izmantot <strong>â€œbrute forceâ€ ğŸ’ª metodi, kas sastÄv no attÄluma aprÄ“Ä·inÄÅ¡anas starp vaicÄjuma logotipu un visiem pÄrÄ“jiem datubÄzes logotipiem un tuvÄko atgrieÅ¡anas</strong>. TÄ ir visprecÄ«zÄkÄ metode, jo tÄ dod mums "Ä«stos" tuvÄkos kaimiÅ†us. TomÄ“r Å¡Ä« metode ir pÄrÄk lÄ“na, lai to varÄ“tu pielietot. Laiks, kas nepiecieÅ¡ams, lai iegÅ«tu katra logotipa tuvÄkos kaimiÅ†us, ja kopÄ“jais logotipu skaits ir 2,5 miljoni, ir aptuveni 3 sekundes ğŸ˜´</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>TÄ kÄ mums bija nepiecieÅ¡ams labÄks meklÄ“Å¡anas laiks un bijÄm apmierinÄti ar mazÄku precizitÄti, nolÄ“mÄm izmantot <strong>aptuvenu metodi</strong>. To, ko izmanto Robotoff, sauc par HNSW (hierarhiski navigÄ“jama maza pasaule). Lai labÄk izprastu tuvÄko kaimiÅ†u meklÄ“Å¡anu, varat ieskatÄ«ties <a rel="noreferrer noopener" href="https://www.pinecone.io/learn/vector-indexes/" target="_blank">Å¡ajÄ rakstÄ</a> .</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Izmantojot HNSW ElasticSearch indeksu, Robotoff tagad spÄ“j meklÄ“t katra iegulÅ¡anas tuvÄkos kaimiÅ†us starp vairÄk nekÄ 2,5 miljoniem vektoru ar milzÄ«gu precizitÄti (vairÄk nekÄ 90% no 100 atgrieztajiem tuvÄkajiem kaimiÅ†iem ir starp precÄ«zi 100 patiesajiem tuvÄkajiem kaimiÅ†iem) un Ä«su meklÄ“Å¡anas laiku, kas ir mazÄks par 100 ms ğŸ‘ğŸ‘ğŸ‘ğŸ‘.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Lai iegÅ«tu logotipa tuvÄkos kaimiÅ†us, varat izmantot Å¡o API: <a href="https://robotoff.openfoodfacts.org/api/v1/ann/search/[logo_id]?count=[count]">https://robotoff.openfoodfacts.org/api/v1/ann/search/[logo_id]?count=[count]</a></p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3><strong>ğŸ¯ Karote iemaksu: </strong>Kur tas tiek izmantots?</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>Robotoff vÄ“l nav ieviesta automÄtiska logotipu kategorizÄcija. Viss, ko es iepriekÅ¡ paskaidroju, ir radÄ«ts tikai <a href="https://hunger.openfoodfacts.org/">Bada spÄ“lÄ“m</a>.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Kas tas ir? TÄ ir <strong>anotÄciju platforma </strong>, ko izstrÄdÄjis lÄ«dzstrÄdnieks Aleksandrs FokÄ“, un tÄ <strong>Ä¼auj ikvienam atbildÄ“t uz Robotoff veiktajÄm prognozÄ“m un kategorizÄ“t logotipus</strong>.&nbsp;</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p><br>Vari to pamÄ“Ä£inÄt. JÅ«s sagaidÄ«s Ä«sa ievadlekcija/apmÄcÄ«ba, un jÅ«s varÄ“siet anotÄ“t logotipus! ğŸ˜‰<br>DrÄ«zumÄ vajadzÄ“tu bÅ«t pieejamai video pamÄcÄ«bai â€œKÄ lietot Bada spÄ“les?â€â€¦ â³</p>
<!-- /wp:paragraph -->

<!-- wp:image {"align":"center","id":3433,"width":505,"height":633,"sizeSlug":"full","linkDestination":"custom"} -->
<figure class="wp-block-image aligncenter size-full is-resized"><a href="hunger.openfoodfacts.org"><img src="https://blog.openfoodfacts.org/wp-content/uploads/2023/02/Screenshot-2023-02-14-at-14.44.23.png" alt="" class="wp-image-3433" width="505" height="633"/></a><figcaption class="wp-element-caption">Lai spÄ“lÄ“tu Bada spÄ“les: hunger.openfoodfacts.org</figcaption></figure>
<!-- /wp:image -->

<!-- wp:paragraph -->
<p><strong>Logotipu anotÄ“Å¡ana uzlabo Open Food Facts, palielinot datu apjomu par produktiem un to kvalitÄti.</strong> Pateicoties fonÄ izmantotajiem modeÄ¼iem un algoritmiem, jÅ«s varat bÅ«t daudz spÄ“cÄ«gÄki un vairÄk ietekmÄ“t cilvÄ“ku ikdienas uzturu ğŸ¥°.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Raksta autors Gabriels</p>
<!-- /wp:paragraph -->

<!-- wp:image {"align":"left","id":3418,"width":167,"height":167,"sizeSlug":"full","linkDestination":"none"} -->
<figure class="wp-block-image alignleft size-full is-resized"><img src="https://blog.openfoodfacts.org/wp-content/uploads/2023/02/Gabriel.png" alt="" class="wp-image-3418" width="167" height="167"/></figure>
<!-- /wp:image -->
